<div 
  *ngIf="isVisible" 
  class="fixed inset-0 z-50 flex items-center justify-center p-4 bg-black bg-opacity-50 backdrop-blur-sm"
  (click)="onBackdropClick($event)"
  role="dialog"
  aria-modal="true"
  [attr.aria-labelledby]="'modal-title'"
  [attr.aria-describedby]="'modal-description'"
>
  <div 
    class="relative w-full max-w-md bg-white rounded-2xl shadow-2xl transform transition-all duration-300 scale-100 opacity-100"
    (click)="$event.stopPropagation()"
  >
    <!-- Header with Icon -->
    <div class="flex flex-col items-center p-6 pb-4">
      <div [ngClass]="getIconContainerClass()" class="w-16 h-16 rounded-full flex items-center justify-center mb-4 shadow-lg">
        <i [class]="getIconClass()" class="text-2xl text-white"></i>
      </div>
      
      <h3 id="modal-title" class="text-xl font-bold text-gray-900 text-center mb-2">
        {{ data.title }}
      </h3>
      
      <p id="modal-description" class="text-gray-600 text-center leading-relaxed">
        {{ data.message }}
      </p>
    </div>

    <!-- Action Buttons -->
    <div class="flex gap-3 p-6 pt-2">
      <button
        type="button"
        (click)="onCancel()"
        (mousedown)="$event.preventDefault()"
        [disabled]="isProcessing"
        class="flex-1 px-4 py-3 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-xl font-medium transition-all duration-200 transform hover:scale-[1.02] active:scale-[0.98] disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-gray-300"
        [attr.aria-label]="data.cancelText || 'Cancel'"
      >
        <span [class.opacity-50]="isProcessing">
          {{ data.cancelText || 'Cancel' }}
        </span>
      </button>
      
      <button
        type="button"
        (click)="onConfirm()"
        (mousedown)="$event.preventDefault()"
        [disabled]="isProcessing"
        [ngClass]="getConfirmButtonClass()"
        class="flex-1 px-4 py-3 text-white rounded-xl font-medium transition-all duration-200 transform hover:scale-[1.02] active:scale-[0.98] shadow-lg disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-offset-2"
        [attr.aria-label]="data.confirmText || 'Confirm'"
      >
        <span [class.opacity-50]="isProcessing">
          {{ data.confirmText || 'Confirm' }}
        </span>
      </button>
    </div>
  </div>
</div> 